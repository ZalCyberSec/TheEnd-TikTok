<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TikDown - Download Video TikTok Tanpa Watermark</title>
  <link id="icon" rel="icon" href="https://files.cloudkuimages.guru/images/fPzNJq0G.jpg" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #1e40af; 
      --primary-dark: #1e3a8a;
      --secondary: #0f172a; 
      --text: #e2e8f0; 
      --text-light: #94a3b8;
      --border: #1e293b;
      --success: #10b981;
      --error: #ef4444;
      --radius: 12px;
      --shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.7);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      color: var(--text);
      background: linear-gradient(160deg, #000000, #0f172a, #1e3a8a);
      background-attachment: fixed;
      line-height: 1.6;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 20px;
    }

    header {
      text-align: center;
      padding: 50px 0 30px;
    }

    header h1 {
      font-size: 2.7rem;
      font-weight: 700;
      margin-bottom: 10px;
      background: linear-gradient(90deg, #60a5fa, #2563eb, #7c3aed);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: glowText 3s infinite alternate;
    }

    @keyframes glowText {
      from { text-shadow: 0 0 10px #2563eb, 0 0 20px #1e40af; }
      to { text-shadow: 0 0 20px #60a5fa, 0 0 40px #7c3aed; }
    }

    header p {
      color: var(--text-light);
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .card {
      background: rgba(15, 23, 42, 0.9);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 30px;
      margin-bottom: 30px;
      border: 1px solid var(--border);
    }

    .input-group {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    input[type="url"] {
      flex: 1;
      padding: 14px 16px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      font-size: 16px;
      background-color: #0f172a;
      color: var(--text);
      transition: all 0.2s;
    }

    input[type="url"]::placeholder {
      color: #64748b;
    }

    input[type="url"]:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.3);
    }

    button {
      background: linear-gradient(90deg, #1e40af, #2563eb);
      color: white;
      border: none;
      border-radius: var(--radius);
      padding: 14px 24px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 16px;
      box-shadow: 0 0 10px rgba(37, 99, 235, 0.6);
      animation: pulseGlow 2s infinite alternate;
    }

    @keyframes pulseGlow {
      from { box-shadow: 0 0 10px #2563eb, 0 0 20px #1e40af; }
      to { box-shadow: 0 0 20px #60a5fa, 0 0 40px #7c3aed; }
    }

    button:hover {
      background: linear-gradient(90deg, #2563eb, #1e3a8a);
      transform: translateY(-2px) scale(1.05);
    }

    .result {
      display: none;
      margin-top: 30px;
      border-top: 1px solid var(--border);
      padding-top: 30px;
    }

    .video-info {
      display: grid;
      grid-template-columns: 120px 1fr;
      gap: 20px;
      margin-bottom: 25px;
    }

    .thumbnail {
      width: 120px;
      height: 160px;
      border-radius: 8px;
      object-fit: cover;
    }

    .video-details h3 {
      font-size: 18px;
      margin-bottom: 10px;
      color: #f1f5f9;
    }

    .video-details p {
      color: var(--text-light);
      font-size: 14px;
      margin-bottom: 5px;
    }

    .download-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .download-option {
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      background: rgba(30, 41, 59, 0.9);
      transition: all 0.3s ease;
    }

    .download-option:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 15px rgba(37, 99, 235, 0.5);
    }

    .download-option h4 {
      margin-bottom: 10px;
      font-size: 16px;
      color: #e2e8f0;
    }

    .meta {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      font-size: 14px;
      color: var(--text-light);
    }

    .loading {
      display: none;
      text-align: center;
      padding: 30px 0;
      color: var(--text);
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(37, 99, 235, 0.1);
      border-radius: 50%;
      border-top-color: var(--primary);
      animation: spin 1s linear infinite;
      margin: 0 auto 15px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .error-message {
      display: none;
      background-color: rgba(239, 68, 68, 0.1);
      color: #f87171;
      padding: 12px 16px;
      border-radius: 8px;
      margin-top: 15px;
      border-left: 4px solid var(--error);
    }

    .tutorial h2 {
      font-size: 1.8rem;
      margin-bottom: 20px;
      text-align: center;
      color: #f8fafc;
    }

    .step {
      background: rgba(15, 23, 42, 0.9);
      border-radius: var(--radius);
      padding: 25px;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      transition: all 0.3s ease;
    }

    .step:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 15px rgba(124, 58, 237, 0.5);
    }

    .step-number {
      display: inline-block;
      width: 32px;
      height: 32px;
      background-color: var(--primary);
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 32px;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .step h3 {
      font-size: 18px;
      margin-bottom: 10px;
      color: #f1f5f9;
    }

    .step p {
      color: var(--text-light);
      font-size: 15px;
    }

    footer {
      text-align: center;
      padding: 30px 0;
      color: var(--text-light);
      font-size: 14px;
      border-top: 1px solid var(--border);
      margin-top: 40px;
    }

    @media (max-width: 768px) {
      .input-group {
        flex-direction: column;
      }
      
      .video-info {
        grid-template-columns: 1fr;
        text-align: center;
      }
      
      .thumbnail {
        margin: 0 auto;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>The End Donwload</h1>
      <p>Download video TikTok tanpa watermark dengan kualitas HD secara gratis <br />Developer ZalOfficial</p>
    </header>
    
    <main>
      <div class="card">
        <div class="input-group">
          <input type="url" id="tiktok-url" placeholder="Tempel link TikTok di sini..." autocomplete="off">
          <button id="download-btn">Download</button>
        </div>
        <div class="error-message" id="error-message"></div>
        
        <div class="loading" id="loading">
          <div class="spinner"></div>
          <p>Memproses video, harap tunggu...</p>
        </div>
        
        <div class="result" id="result"></div>
      </div>
      
      <div class="tutorial">
        <h2>Cara Menggunakan The End Donwload</h2>
        <div class="steps">
          <div class="step">
            <span class="step-number">1</span>
            <h3>Salin Link TikTok</h3>
            <p>Buka aplikasi TikTok dan cari video yang ingin didownload. Tekan tombol "Share" lalu salin link video tersebut.</p>
          </div>
          <div class="step">
            <span class="step-number">2</span>
            <h3>Tempel Link</h3>
            <p>Kembali ke website TikDown dan tempel link yang telah disalin ke dalam kotak input yang disediakan.</p>
          </div>
          <div class="step">
            <span class="step-number">3</span>
            <h3>Download Video</h3>
            <p>Klik tombol "Download" dan tunggu proses selesai. Pilih kualitas video yang diinginkan dan download.</p>
          </div>
        </div>
      </div>
    </main>
    
    <footer>
      <p>&copy; 2025 The End - TikTok Video Downloader</p>
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const tiktokUrlInput = document.getElementById('tiktok-url');
      const downloadBtn = document.getElementById('download-btn');
      const loadingElement = document.getElementById('loading');
      const resultElement = document.getElementById('result');
      const errorMessage = document.getElementById('error-message');
      
      function isValidTikTokUrl(url) {
        const tiktokRegex = /https?:\/\/(www\.|vm\.|vt\.)?tiktok\.com\/(.*)/;
        return tiktokRegex.test(url);
      }
      
      function showError(message) {
        errorMessage.textContent = message;
        errorMessage.style.display = 'block';
        setTimeout(() => {
          errorMessage.style.display = 'none';
        }, 5000);
      }
      
      function formatFileSize(bytes) {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
      }
      
      function formatDuration(seconds) {
        const minutes = Math.floor(seconds / 60);
        const remainingSeconds = seconds % 60;
        return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
      }
      
      downloadBtn.addEventListener('click', function() {
        const tiktokUrl = tiktokUrlInput.value.trim();
        if (!tiktokUrl) {
          showError('Harap masukkan link TikTok');
          return;
        }
        if (!isValidTikTokUrl(tiktokUrl)) {
          showError('Link TikTok tidak valid. Pastikan link dari TikTok.com');
          return;
        }
        loadingElement.style.display = 'block';
        resultElement.style.display = 'none';
        errorMessage.style.display = 'none';
        
        fetch(`https://hookrest.my.id/download/tiktok?url=${encodeURIComponent(tiktokUrl)}`)
          .then(response => response.json())
          .then(data => {
            loadingElement.style.display = 'none';
            if (data.status && data.result) {
              displayResult(data.result);
            } else {
              showError('Gagal mengambil data video. Pastikan link valid dan coba lagi.');
            }
          })
          .catch(error => {
            loadingElement.style.display = 'none';
            showError('Terjadi kesalahan. Silakan coba lagi nanti.');
            console.error('Error:', error);
          });
      });
      
      function displayResult(videoData) {
        let resultHTML = `
          <div class="video-info">
            <img src="${videoData.cover}" alt="Thumbnail" class="thumbnail">
            <div class="video-details">
              <h3>${videoData.title || 'TikTok Video'}</h3>
              <p><strong>Pembuat:</strong> ${videoData.author.nickname}</p>
              <p><strong>Durasi:</strong> ${formatDuration(videoData.duration)}</p>
              <p><strong>Diputar:</strong> ${videoData.play_count.toLocaleString()} kali</p>
              <p><strong>Disukai:</strong> ${videoData.digg_count.toLocaleString()} likes</p>
            </div>
          </div>
          
          <div class="download-options">
            <div class="download-option">
              <h4>Download tanpa Watermark (HD)</h4>
              <a href="${videoData.hdplay}" download target="_blank">
                <button>Download HD (${formatFileSize(videoData.hd_size)})</button>
              </a>
              <div class="meta">
                <span>Kualitas Terbaik</span>
                <span>${formatFileSize(videoData.hd_size)}</span>
              </div>
            </div>
            
            <div class="download-option">
              <h4>Download tanpa Watermark</h4>
              <a href="${videoData.play}" download target="_blank">
                <button>Download (${formatFileSize(videoData.size)})</button>
              </a>
              <div class="meta">
                <span>Kualitas Standar</span>
                <span>${formatFileSize(videoData.size)}</span>
              </div>
            </div>
            
            <div class="download-option">
              <h4>Dengan Watermark</h4>
              <a href="${videoData.wmplay}" download target="_blank">
                <button>Download WM (${formatFileSize(videoData.wm_size)})</button>
              </a>
              <div class="meta">
                <span>Watermark TikTok</span>
                <span>${formatFileSize(videoData.wm_size)}</span>
              </div>
            </div>
            
            <div class="download-option">
              <h4>Download Musik</h4>
              <a href="${videoData.music}" download target="_blank">
                <button>Download Audio</button>
              </a>
              <div class="meta">
                <span>Audio saja</span>
                <span>${videoData.music_info.title}</span>
              </div>
            </div>
          </div>
        `;
        
        resultElement.innerHTML = resultHTML;
        resultElement.style.display = 'block';
        resultElement.scrollIntoView({ behavior: 'smooth' });
      }
      
      tiktokUrlInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          downloadBtn.click();
        }
      });
    });
  </script>
</body>
</html>
